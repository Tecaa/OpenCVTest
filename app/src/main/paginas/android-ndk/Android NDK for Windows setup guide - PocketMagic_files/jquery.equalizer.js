;(function($){"use strict";$.equalizer=function(el,options){var o,base=this;base.$el=$(el);base.$el.data("equalizer",base);base.init=function(){base.options=o=$.extend({},$.equalizer.defaultOptions,options);base.$col=base.$el.find(o.columns);var t=base.$col.find('.equalizer-inner').length;o.min=parseInt(o.min,10)||0;o.max=parseInt(o.max,10)||0;base.hasMax=(o.max===0)?false:true;base.hasMin=(o.min===0)?false:true;base.curRowTop=0;base.isEnabled=true;base.useHeight=(/^o/.test(o.useHeight))?'outerHeight':/^i/.test(o.useHeight)?'innerHeight':'height';if(!t){base.$col.wrapInner('<span class="equalizer-inner" style="display:block;" />');}
if(!t&&o.resizeable){$(window).resize(function(){clearTimeout(base.throttle);base.throttle=setTimeout(function(){if(o.breakpoint){base.checkBreakpoint();}
base.update();},100);});}
base.$el.unbind('enable.equalizer disable.equalizer').bind('enable.equalizer disable.equalizer',function(e){base.enable(e.type==='enable');});base.checkBreakpoint();base.update();};base.checkBreakpoint=function(){var w=o.breakpoint&&base.$el.width()||0;if(w&&w<o.breakpoint){base.suspend(false);}else if(w&&base.$el.hasClass(o.disabled)&&w>o.breakpoint){base.suspend();}};base.checkBoxSizing=function(){var v=(function(version){version[0]=parseInt(version[0],10);return(version[0]>1)||(version[0]===1&&parseInt(version[1],10)>=8);})($.fn.jquery.split("."));if(v){return false;}
var i,s=['boxSizing','MozBoxSizing','WebkitBoxSizing','msBoxSizing'],l=s.length;for(i=0;i<l;i++){if(base.$col.css(s[i])==='border-box'){return true;}}
return false;};base.update=function(){if(base.$el.hasClass(o.disabled)||!base.isEnabled){return;}
base.hasBoxSizing=base.checkBoxSizing();base.padding=(base.hasBoxSizing)?parseInt(base.$col.css('padding-top'),10)+parseInt(base.$col.css('padding-bottom'),10):0;base.curMax=o.min;base.$col.removeClass(o.overflow).each(function(){var $this=$(this),$el=$this.find('span.equalizer-inner');base.curTop=$this.offset().top;if(base.curRowTop!==base.curTop){if(base.hasMax&&base.curMax>o.max){base.curMax=o.max;base.curRows.addClass(o.overflow);}
if(base.curRows){base.curRows.height(base.curMax+base.padding);}
base.curMax=$el[base.useHeight]();base.curMax=(base.hasMin)?Math.max(o.min,base.curMax):base.curMax;base.curRowTop=base.curTop;base.curRows=$this;}else{base.curMax=Math.max(base.curMax,$el[base.useHeight]());base.curMax=(base.hasMax&&base.curMax>o.max)?o.max:(base.hasMin&&base.curMax<o.min)?o.min:base.curMax;base.curRows=base.curRows.add($this);}
if(base.curRows){base.curRows.height(base.curMax+base.padding);if(base.hasMax&&base.curMax>=o.max){base.curRows.addClass(o.overflow);}}});};base.suspend=function(flag){if(flag!==false){base.$el.removeClass(o.disabled);}else{base.$el.addClass(o.disabled);base.$col.removeClass(o.overflow).css('height','');}
base.update();};base.enable=function(flag){base.isEnabled=flag!==false;base.suspend(flag);};base.init();};$.equalizer.defaultOptions={columns:'> div',useHeight:'height',resizeable:true,min:0,max:0,breakpoint:null,disabled:'noresize',overflow:'overflowed'};$.fn.equalizer=function(options){return this.each(function(){var equalizer=$(this).data('equalizer');if(!equalizer){(new $.equalizer(this,options));}else{equalizer.update();}});};$.fn.getequalizer=function(){return this.data("equalizer");};})(jQuery);